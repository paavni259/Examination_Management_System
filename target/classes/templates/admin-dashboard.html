<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Admin Dashboard</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <style>
    :root {
      --primary-color-start: #6d28d9;
      --primary-color-end: #9333ea;
      --primary-gradient: linear-gradient(135deg, var(--primary-color-start), var(--primary-color-end));
      --primary-rgb: 109, 40, 217;
      --primary-light: #ede9fe;
      --bg-main: #f9fafb;
      --bg-sidebar: #111827;
      --bg-card: #ffffff;
      --text-light: #f9fafb;
      --text-dark: #111827;
      --text-secondary: #6b7280;
      --border-color: #f3f4f6;
      --shadow-color: rgba(0, 0, 0, 0.07);
    }

    * { box-sizing: border-box; margin: 0; padding: 0; }

    body {
      font-family: 'Inter', sans-serif;
      background-color: var(--bg-main);
      color: var(--text-dark);
      background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40"><path fill="%23f3f4f6" d="M0 0h20v20H0zM20 20h20v20H20z"/></svg>');
    }

    .admin-container { display: flex; }

    /* --- Sidebar --- */
    .sidebar {
      width: 250px; background-color: var(--bg-sidebar);
      color: var(--text-light); display: flex; flex-direction: column;
      min-height: 100vh; position: fixed;
      border-right: 1px solid #1f2937;
    }
    .sidebar-header {
      padding: 1.5rem; font-size: 1.5rem; font-weight: 800; text-align: center;
    }
    .sidebar-header span {
        background: var(--primary-gradient);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
    }
    .sidebar-nav { list-style: none; padding: 1rem 0; flex-grow: 1; }
    .sidebar-nav li a {
      color: #9ca3af; text-decoration: none; font-weight: 500;
      display: flex; align-items: center; gap: 0.75rem;
      padding: 0.9rem 1.5rem; margin: 0 1rem;
      border-radius: 8px;
      transition: all 0.3s ease;
    }
    .sidebar-nav li a:hover {
      background-color: #374151; color: var(--text-light);
    }
    .sidebar-nav li.active a {
      background: var(--primary-gradient);
      color: var(--text-light);
      box-shadow: 0 4px 15px rgba(var(--primary-rgb), 0.3);
    }
    .sidebar-nav li.logout { margin-top: auto; }
    .sidebar-nav li.logout a { color: #fca5a5; }
    .sidebar-nav li.logout a:hover { background-color: #ef4444; color: var(--text-light); }
    .sidebar-nav .icon { width: 20px; height: 20px; }

    /* --- Main Wrapper & Top Bar --- */
    .main-wrapper { margin-left: 250px; flex: 1; }
    .top-bar {
      background-color: rgba(255, 255, 255, 0.8);
      backdrop-filter: blur(8px);
      padding: 1rem 2rem;
      border-bottom: 1px solid var(--border-color);
      display: flex; justify-content: space-between; align-items: center;
    }
    .top-bar h1 { font-size: 1.5rem; font-weight: 700; }
    
    /* --- Content & Cards --- */
    .content { padding: 2rem; }
    .stats {
      display: grid; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
      gap: 1.5rem; margin-bottom: 2rem;
    }
    .card {
      background-color: var(--bg-card);
      border-radius: 16px;
      padding: 1.5rem;
      border: 1px solid var(--border-color);
      display: flex;
      align-items: flex-start;
      gap: 1rem;
      box-shadow: 0 4px 10px var(--shadow-color);
      transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
      animation: fadeInUp 0.5s ease-out forwards;
      opacity: 0;
    }
    .card:hover {
      transform: translateY(-8px);
      box-shadow: 0 15px 25px rgba(var(--primary-rgb), 0.15);
    }
    .card .icon-wrapper {
      background: var(--primary-gradient);
      color: var(--text-light);
      border-radius: 50%; padding: 14px; display: flex;
      box-shadow: 0 4px 10px rgba(var(--primary-rgb), 0.2);
    }
    .card .icon-wrapper svg { width: 24px; height: 24px; }
    .card-content h3 {
      font-size: 0.875rem; font-weight: 600; color: var(--text-secondary);
      margin-bottom: 0.25rem; text-transform: uppercase; letter-spacing: 0.5px;
    }
    .card-content .value { font-size: 2.25rem; font-weight: 800; color: var(--text-dark); line-height: 1.1; }
    
    .card:nth-child(1) { animation-delay: 0.1s; }
    .card:nth-child(2) { animation-delay: 0.2s; }
    .card:nth-child(3) { animation-delay: 0.3s; }

    /* --- Main Content Grid --- */
    .main-grid {
      display: grid; grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
      gap: 1.5rem; opacity: 0;
      animation: fadeInUp 0.5s ease-out 0.4s forwards;
    }
    .chart-container, .activity-container {
      background-color: var(--bg-card);
      border-radius: 16px;
      border: 1px solid var(--border-color);
      padding: 1.5rem;
      box-shadow: 0 4px 10px var(--shadow-color);
    }
    .container-header {
        display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem;
    }
    .container-header h2 { font-size: 1.25rem; font-weight: 700; }
    .container-header a { text-decoration: none; color: var(--primary-color); font-weight: 500; font-size: 0.875rem; }
    
    /* Activity List */
    .activity-list li {
        display: flex; align-items: center; gap: 1rem;
        padding: 0.85rem 0;
    }
    .activity-list li:not(:last-child) { border-bottom: 1px solid var(--border-color); }
    .activity-info strong { font-size: 0.9rem; }
    .activity-info p { font-size: 0.875rem; }

    @keyframes fadeInUp {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }
  </style>
</head>
<body>
<div class="admin-container">

  <aside class="sidebar">
    <div class="sidebar-header">APC<span>.</span>Admin</div>
    <ul class="sidebar-nav">
      <li class="active"><a th:href="@{/admin/dashboard}">
        <svg class="icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z" /></svg>
        Dashboard
      </a></li>
      <li><a th:href="@{/admin/students}">
        <svg class="icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z" /></svg>
        Students
      </a></li>
      <li><a th:href="@{/admin/faculty}">
        <svg class="icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25" /></svg>
        Faculty
      </a></li>
      <li><a th:href="@{/admin/exams}">
        <svg class="icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" /></svg>
        Exams
      </a></li>
      <li class="logout"><a th:href="@{/logout}">
        <svg class="icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1" /></svg>
        Logout
      </a></li>
    </ul>
  </aside>

  <div class="main-wrapper">
    <header class="top-bar">
      <h1>Dashboard</h1>
      <div class="user-profile">
        <span>Welcome, <strong th:text="${adminName}">Admin</strong></span>
      </div>
    </header>

    <main class="content">
      <section class="stats">
        <div class="card">
          <div class="icon-wrapper"></div>
          <div class="card-content">
            <h3>Total Students</h3>
            <p class="value" th:text="${totalStudents}">0</p>
          </div>
        </div>
        <div class="card">
          <div class="icon-wrapper"></div>
          <div class="card-content">
            <h3>Total Faculty</h3>
            <p class="value" th:text="${totalFaculty}">0</p>
          </div>
        </div>
        <div class="card">
          <div class="icon-wrapper"></div>
          <div class="card-content">
            <h3>Total Exams</h3>
            <p class="value" th:text="${totalExams}">0</p>
          </div>
        </div>
      </section>

      <section class="main-grid">
        <div class="chart-container">
          <div class="container-header">
            <h2>Users Overview</h2>
            <a href="#">View Report</a>
          </div>
          <canvas id="userChart"></canvas>
        </div>
        <div class="activity-container">
          <div class="container-header">
            <h2>Recent Activity</h2>
            <a href="#">View All</a>
          </div>
          <ul class="activity-list">
            <li th:each="student : ${recentStudents}">
                <div class="activity-icon"></div>
                <div class="activity-info">
                    <strong th:text="${student.name}">Student Name</strong>
                    <p th:text="${student.email}">student.email@example.com</p>
                </div>
            </li>
          </ul>
        </div>
      </section>
    </main>
  </div>
</div>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</body>
</html>